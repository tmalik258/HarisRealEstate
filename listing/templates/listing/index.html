{% extends 'listing/layout.html' %}
{% load custom_tags static %}

{% block head %}
<link
	rel="preload"
	href="{% static 'listing/img/crousal/construction.jpg' %}"
	as="image"
/>
<link
	rel="preload"
	href="{% static 'listing/img/crousal/building2.jpg' %}"
	as="image"
/>
<link
	rel="preload"
	href="{% static 'listing/img/crousal/house.jpg' %}"
	as="image"
/>

<link
	rel="preload"
	href="{% static 'listing/img/categories/home.jpg' %}"
	as="image"
/>
<link
	rel="preload"
	href="{% static 'listing/img/categories/plots.jpg' %}"
	as="image"
/>
<link
	rel="preload"
	href="{% static 'listing/img/categories/commercial.jpg' %}"
	as="image"
/>

<link
	rel="preload"
	href="{% static 'listing/img/logo/Dark_theme_logo.webp' %}"
	as="image"
	type="image/webp"
	fetchpriority="high"
/>
{% endblock head %}

{% block body %}
<section class="mt-3">
	<div
		id="carouselExampleFade"
		class="carousel slide carousel-fade"
		data-bs-ride="carousel"
	>
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img
					src="{% static 'listing/img/crousal/building2.jpg' %}"
					loading="eager"
					decoding="async"
					class="d-block w-100"
					alt="Building Structure Image"
				/>
				<div class="carousel-caption d-none d-md-block">
					<h1>
						Haris Real Estate <br />
						& Builders
					</h1>
					<p>
						We have Experienced Professional Staff Always Available
						to Fullfill your Property Needs.
					</p>
				</div>
			</div>
			<div class="carousel-item">
				<img
					src="{% static 'listing/img/crousal/construction.jpg' %}"
					loading="lazy"
					decoding="async"
					class="d-block w-100"
					alt="Construction Image"
				/>
				<div class="carousel-caption d-none d-md-block">
					<h1>
						Haris Real Estate <br />
						& Builders
					</h1>
					<p>
						We have Experienced Professional Staff Always Available
						to Fullfill your Property Needs.
					</p>
				</div>
			</div>
			<div class="carousel-item">
				<img
					src="{% static 'listing/img/crousal/house.jpg' %}"
					loading="lazy"
					decoding="async"
					class="d-block w-100"
					alt="House Image"
				/>
				<div class="carousel-caption d-none d-md-block">
					<h1>
						Haris Real Estate <br />
						& Builders
					</h1>
					<p>
						We have Experienced Professional Staff Always Available
						to Fullfill your Property Needs.
					</p>
				</div>
			</div>
		</div>
		<button
			class="carousel-control-prev"
			type="button"
			data-bs-target="#carouselExampleFade"
			data-bs-slide="prev"
		>
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button
			class="carousel-control-next"
			type="button"
			data-bs-target="#carouselExampleFade"
			data-bs-slide="next"
		>
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>
</section>

<article id="index_article">
	<section class="m-3 mt-5 ms-lg-4">
		<h1 class="h4 mb-1 ms-2">CATEGORIES</h1>
		<div class="container top-categories hidden p-4 ms-0 mb-4 mt-1">
			<div class="row row-cols-1 row-cols-md-3">
				<div class="col hidden">
					<a
						href="{% url 'listing:get_category' category_slug='homes' %}"
						class="nav-link"
					>
						<div class="card h-100">
							<img
								loading="lazy"
								decoding="async"
								src="{% static 'listing/img/categories/home.jpg' %}"
								class="card-img-top"
								alt="Home Category Image"
								width="100%"
								height="100%"
							/>
							<div class="card-img-overlay"></div>
							<div class="card-body">
								<h5 class="card-title">HOMES</h5>
							</div>
						</div>
					</a>
				</div>
				<div class="col hidden">
					<a
						href="{% url 'listing:get_category' category_slug='plots' %}"
						class="nav-link"
					>
						<div class="card h-100">
							<img
								loading="lazy"
								decoding="async"
								src="{% static 'listing/img/categories/plots.jpg' %}"
								class="card-img-top img2"
								width="100%"
								height="100%"
								alt="Plots Category Image"
							/>
							<div class="card-img-overlay">
								<h5 class="card-title">LAND/PLOTS</h5>
							</div>
						</div>
					</a>
				</div>
				<div class="col hidden">
					<a
						href="{% url 'listing:get_category' category_slug='commercial' %}"
						class="nav-link"
					>
						<div class="card h-100">
							<div class="card-body">
								<h5 class="card-title">COMMERCIAL</h5>
							</div>
							<img
								loading="lazy"
								decoding="async"
								src="{% static 'listing/img/categories/commercial.jpg' %}"
								class="card-img-top"
								width="100%"
								height="100%"
								alt="Plots Category Image"
							/>
							<div class="card-img-overlay"></div>
						</div>
					</a>
				</div>
			</div>
		</div>
	</section>

	<section class="m-3 mt-5 ms-lg-4 p-5 hidden" id="counter_section">
		<div class="container">
			<div class="row text-center">
				<div class="col p-2">
					<h2 class="h5" id="traffic_count">0</h2>
					<p class="text-muted">Unique Visitors</p>
				</div>
				<div class="col p-2">
					<h2 class="h5" id="sale_count">0</h2>
					<p class="text-muted">Listing for Sale</p>
				</div>
				<div class="col p-2">
					<h2 class="h5" id="rent_count">0</h2>
					<p class="text-muted">Listing for Rent</p>
				</div>
			</div>
		</div>
	</section>

	<section class="hidden index_properties m-3 ms-lg-4">
		<h1 class="h4 mb-1 ms-2">RECENT PROPERTIES</h1>
		<article
			class="container p-4 ms-0 mb-4 mt-1 properties swiper propertiesSwiper"
			style="box-shadow: none"
		>
			<div class="swiper-wrapper">
				{% for post in posts %}
				<div class="swiper-slide">
					<div class="card">
						<div class="row g-0">
							<a
								href="{% url 'listing:property-detail' post.id %}"
								title="listing: {{ post.title }}"
							>
								<div
									class="col-11 col-sm-12 mx-auto listing_image mb-md-0 p-md-3"
								>
									{% if post.img.first %}
									<img
										loading="lazy"
										decoding="async"
										src="{{ post.img.first.image.url }}"
										class="card-img-top"
										max-height="300px"
										alt="{{ post.img.first.image }}"
									/>
									{% else %}
									<img
										loading="eager"
										src="{% static 'listing/img/logo/Dark_theme_logo.webp' %}"
										class="card-img-top"
										decoding="async"
										alt="No Image Uploaded"
										title="No Image Uploaded"
									/>
									{% endif %}
								</div>
								<div class="col-md-12">
									<div class="container">
										<div class="card-body">
											<h6 class="card-title text-center">
												{{ post.title|upper }}
											</h6>
											<hr />
											<p class="card-text">
												<span
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>PKR </span
												><span style="font-size: 16px"
													>{{ post.price|int_word }}</span
												>
											</p>
											<p
												class="card-text"
												style="line-height: 18px"
											>
												<span
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.category }}</span
												>
												<span class="vr"></span>
												<span
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.get_purpose }}</span
												>
												<span class="vr"></span>
												<!-- <p class="card-text"> -->
												<span
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.get_area_size }}
												</span>
												{{ post.get_area_size_unit_display }}
											</p>
											{% if post.get_bedroom and post.get_bathroom %}
											<p class="card-text">
												<strong
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.get_bedroom }}</strong
												>
												Bed(s)
												<strong
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.get_bathroom }}</strong
												>
												Bath(s)
											</p>
											{% elif post.get_bedroom %}
											<p class="card-text">
												<strong
													style="
														color: rgb(
															174,
															115,
															229
														);
													"
													>{{ post.get_bedroom }}</strong
												>
												Bed(s)
											</p>
											{% endif %}
											<p class="card-text mt-3">
												<a
													href="{% url 'listing:property-detail' item=post.id %}"
													class="btn btn-outline-secondary email more"
													>More</a
												>
												<a
													href="mailto:{{ post.creator.email }}"
													class="btn btn-outline-secondary email"
													><i
														class="fa-solid fa-envelope fa-lg"
													></i
												></a>
												{% if post.creator.profile.phone_number %}
												<a
													href="tel:+{{ post.creator.profile.phone_number }}"
													class="btn btn-outline-secondary email"
													><i
														class="fa-solid fa-phone fa-lg"
													></i
												></a>
												{% endif %}
											</p>
											<p
												class="card-text"
												style="line-height: 18px"
											>
												<small class="text-muted"
													>Listed by {{ post.creator.first_name }}</small
												>
											</p>
										</div>
									</div>
								</div>
							</a>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</article>
	</section>

	<section class="hidden">
		<div class="agents m-3 ms-lg-4">
			<h1 class="card-title hidden h4 mb-1 ms-2">MEET OUR TEAM</h1>
			<div
				class="container p-4 ms-0 mb-4 swiper teamSwiper"
				style="font-size: 13px"
			>
				<h2 class="card-text hidden h6">
					A COLLECTIVE, THAT MAKES DREAMS COME TRUE
				</h2>
				<p class="card-text hidden text-muted">
					Our strength lies in our individuality. Set up by Haris Real
					Estate & Builder's team strives to bring in the best talent
					in various fields, from property survey to sales & purchase,
					marketing and construction. Our every member is our asset.
				</p>
				<div class="swiper-wrapper text-center mt-4">
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/USMAN_SALEEM.webp' %}"
							class="profile-img mx-auto"
							alt="Muhammad Usman Saleem PFP"
							style="width: 80%"
						/>
						<h3 class="h6 text-uppercase">Muhammad Usman Saleem</h3>
						<div class="text-muted">Chief Executive</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/ADNAN_BHAI.webp' %}"
							class="profile-img mx-auto"
							alt="Muhammad Adnan Saleem PFP"
						/>
						<h3 class="h6 text-uppercase">Muhammad Adnan Saleem</h3>
						<div class="text-muted">Manager Marketing</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/hamid_pfp.webp' %}"
							class="profile-img mx-auto"
							alt=""
						/>
						<h3 class="h6 text-uppercase">Hamid</h3>
						<div class="text-muted">Executive Operations</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/RANA_MAZHAR.webp' %}"
							class="profile-img mx-auto"
							alt=""
						/>
						<h3 class="h6">RANA MAZHAR</h3>
						<div class="text-muted">Senior Sales Manager</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/WAQAR_KHILJI.webp' %}"
							class="profile-img mx-auto"
							alt=""
						/>
						<h3 class="h6 text-uppercase">Waqar Khilji</h3>
						<div class="text-muted">Senior Realtor</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/SAQIB_KHAN.webp' %}"
							class="profile-img mx-auto"
							alt=""
						/>
						<h3 class="h6 text-uppercase">SAQIB KHAN</h3>
						<div class="text-muted">Senior Realtor</div>
					</div>
					<div class="swiper-slide px-2 py-3">
						<img
							src="{% static 'listing/img/team/mubashar.webp' %}"
							class="profile-img mx-auto"
							alt=""
						/>
						<h3 class="h6 text-uppercase">Mubashar</h3>
						<div class="text-muted">Sales Assistant</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- <section>
		<div class="contact-us hidden"></div>
	</section> -->
</article>
{% endblock body %}

{% block script %}
<script>
	var swiper = new Swiper(".teamSwiper", {
		slidesPerView: 1,
		spaceBetween: 10,
		autoplay: {
			delay: 3000,
			disableOnInteraction: false,
		},
		breakpoints: {
			640: {
				slidesPerView: 2,
				spaceBetween: 20,
			},
			768: {
				slidesPerView: 4,
				spaceBetween: 40,
			},
			1024: {
				slidesPerView: 5,
				spaceBetween: 30,
			},
		},
	});

	const TRAFFIC_COUNT = "{{ trafficCount }}";
	const SALE_COUNT = "{{ saleCount }}";
	const RENT_COUNT = "{{ rentCount }}";
</script>
<script src="{% static 'listing/js/traffic.js' %}" data-rel-js></script>
{% endblock script %}
